@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 216 50% 16%; /* #1B2744 */
  --card: 0 0% 100%;
  --card-foreground: 216 50% 16%;
  --popover: 0 0% 100%;
  --popover-foreground: 216 50% 16%;
  --primary: 216 50% 16%; /* #1B2744 */
  --primary-foreground: 0 0% 98%;
  --secondary: 183 18% 54%; /* #5A8C89 */
  --secondary-foreground: 0 0% 98%;
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 45.1%;
  --accent: 63 46% 70%; /* #D6D890 */
  --accent-foreground: 216 50% 16%;
  --destructive: 0 72% 51%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 216 50% 16%;
  --chart-1: 173 58% 39%;
  --chart-2: 12 76% 61%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;
  --radius: 0rem;
}

.dark {
  --background: 216 50% 16%; /* #1B2744 */
  --foreground: 0 0% 98%;
  --card: 216 50% 20%;
  --card-foreground: 0 0% 98%;
  --popover: 216 50% 20%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 216 50% 16%;
  --secondary: 183 18% 54%; /* #5A8C89 */
  --secondary-foreground: 0 0% 98%;
  --muted: 216 50% 25%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 63 46% 70%; /* #D6D890 */
  --accent-foreground: 216 50% 16%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 216 50% 25%;
  --input: 216 50% 25%;
  --ring: 240 4.9% 83.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    overflow-x: hidden;
    width: 100%;
  }
  
  body {
    @apply bg-background text-foreground font-sans;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }
  
  /* Set serif font for all headings by default */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
  }
}

@layer utilities {
  /* Font family utilities */
  .font-serif {
    font-family: var(--font-serif), Georgia, serif;
  }
  
  .font-sans {
    font-family: var(--font-geist-sans), system-ui, sans-serif;
  }
  
  .font-mono {
    font-family: var(--font-geist-mono), monospace;
  }

  /* Visualization containers with colored borders */
  .viz-container-primary {
    border: 4px solid hsl(var(--primary));
    background: hsl(var(--background));
    padding: 0;
    margin: 0;
  }
  
  .viz-container-secondary {
    border: 4px solid hsl(var(--secondary));
    background: hsl(var(--background));
    padding: 0;
    margin: 0;
  }
  
  .viz-container-accent {
    border: 4px solid hsl(var(--accent));
    background: hsl(var(--background));
    padding: 0;
    margin: 0;
  }

  /* Inner wrapper for proper spacing */
  .viz-inner-wrapper {
    padding: 8px;
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 300px; /* Mobile minimum height */
    width: 100%;
  }

  /* Mobile-specific styling */
  @media (max-width: 767px) {
    .viz-inner-wrapper {
      padding: 8px;
      height: 350px;
      min-height: 350px;
      width: 100%;
    }
    
    .viz-container-primary,
    .viz-container-secondary,
    .viz-container-accent {
      min-height: 350px;
      width: 100%;
      max-width: 100vw;
    }
    
    /* Force Plotly charts to be responsive on mobile */
    .viz-container-primary .js-plotly-plot,
    .viz-container-secondary .js-plotly-plot,
    .viz-container-accent .js-plotly-plot {
      width: 100% !important;
      height: 100% !important;
      min-width: 100% !important;
    }
    
    /* Ensure plotly svg elements resize properly */
    .viz-container-primary svg,
    .viz-container-secondary svg,
    .viz-container-accent svg {
      width: 100% !important;
      height: auto !important;
      max-width: 100% !important;
    }
  }

  /* Enhanced containers for larger charts */
  .viz-container-primary,
  .viz-container-secondary,
  .viz-container-accent {
    min-height: 400px;
    max-width: 100%;
    border-radius: 0 !important;
  }

  /* Responsive chart sizing */
  @media (min-width: 768px) {
    .viz-inner-wrapper {
      padding: 12px;
      height: 400px;
      min-height: 400px;
    }
    
    .viz-container-primary,
    .viz-container-secondary,
    .viz-container-accent {
      min-height: 400px;
    }
  }

  @media (min-width: 1024px) {
    .viz-inner-wrapper {
      padding: 16px;
      height: 500px;
      min-height: 500px;
    }
    
    .viz-container-primary,
    .viz-container-secondary,
    .viz-container-accent {
      min-height: 500px;
    }
  }

  /* Plotly chart containers - remove all internal spacing */
  .viz-container-primary .js-plotly-plot,
  .viz-container-secondary .js-plotly-plot,
  .viz-container-accent .js-plotly-plot {
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* Ensure plotly charts fill container completely and are centered */
  .viz-container-primary .plotly,
  .viz-container-secondary .plotly,
  .viz-container-accent .plotly {
    width: 100% !important;
    height: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Center the actual plotly graph element */
  .viz-container-primary .plotly .main-svg,
  .viz-container-secondary .plotly .main-svg,
  .viz-container-accent .plotly .main-svg {
    margin: 0 auto !important;
  }

  /* Additional centering for plotly wrapper divs */
  .viz-container-primary > div,
  .viz-container-secondary > div,
  .viz-container-accent > div {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* Remove all rounded corners globally */
  * {
    border-radius: 0 !important;
  }

  /* Hero section background image - desktop only */
  .hero-bg-desktop {
    /* No background on mobile by default */
    background-color: hsl(var(--background));
  }
  
  /* Only load background image on desktop screens (768px and up) */
  @media (min-width: 768px) {
    .hero-bg-desktop {
      background-image: url('/img/farm-bg.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }
  }
  
  /* Hero overlay - only visible on desktop */
  .hero-overlay {
    display: none;
  }
  
  @media (min-width: 768px) {
    .hero-overlay {
      display: block;
    }
  }
  
  /* Hero text colors - responsive */
  .hero-text-mobile {
    color: hsl(var(--primary));
  }
  
  .hero-subtext-mobile {
    color: hsl(var(--muted-foreground));
  }
  
  @media (min-width: 768px) {
    .hero-text-mobile {
      color: white;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }
    
    .hero-subtext-mobile {
      color: rgba(255, 255, 255, 0.9);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }
  }

  /* Mobile width fixes */
  @media (max-width: 767px) {
    .max-w-7xl, .max-w-6xl, .max-w-4xl, .max-w-3xl, .max-w-2xl {
      max-width: 100% !important;
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }
    
    /* Ensure all containers don't overflow */
    .container, main, section, div {
      max-width: 100vw;
      overflow-x: hidden;
    }
    
    /* Fix section padding for mobile */
    section {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }
    
    /* Fix motion sections */
    .min-h-screen {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }
    
    /* Fix any potential text overflow */
    h1, h2, h3, h4, h5, h6, p {
      word-wrap: break-word;
      word-break: break-word;
      hyphens: auto;
      max-width: 100%;
    }
    
    /* Responsive font sizes */
    h1 {
      font-size: 2.5rem !important;
      line-height: 1.2 !important;
    }
    
    h2 {
      font-size: 2rem !important;
      line-height: 1.3 !important;
    }
    
    /* Ensure images are responsive */
    img {
      max-width: 100% !important;
      height: auto !important;
    }
    
    /* Fix table overflow */
    table {
      width: 100% !important;
      table-layout: fixed !important;
    }
    
    /* Ensure cards and grid elements are responsive */
    .grid {
      grid-template-columns: 1fr !important;
      gap: 1rem !important;
    }
    
    /* Fix card padding */
    .p-4 {
      padding: 0.75rem !important;
    }
    
    .px-4 {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }
    
    /* Ensure buttons are touch-friendly */
    button {
      min-height: 44px;
      min-width: 44px;
    }
  }
}